enum FieldType {
  Text
  Textarea
  Url
  Number
  Switch
}

model Field {
  id          String    @id @default(cuid())
  type        FieldType @default(Text)
  name        String
  default     String    @default("")
  placeholder String    @default("")
  isRequired  Boolean   @default(false)
  order       Int       @default(0)
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  // Relations
  zone   Zone   @relation(fields: [zoneId], references: [id], onDelete: Cascade)
  zoneId String
  items  Meta[]

  // Indexes
  @@index([zoneId])
}

model Meta {
  id    String @id @default(cuid())
  value Json

  // Relations
  campaign   Campaign @relation(fields: [campaignId], references: [id], onDelete: Cascade)
  campaignId String
  field      Field    @relation(fields: [fieldId], references: [id], onDelete: Cascade)
  fieldId    String

  // Indexes
  @@unique([campaignId, fieldId])
  @@index([campaignId])
  @@index([fieldId])
}
